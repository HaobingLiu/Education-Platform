<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Dashboard">
    <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <title>学生成长分析平台</title>

    <!-- Favicons -->
    <link href="/templates/servermaterial/img/favicon.png" rel="icon">
    <link href="/templates/servermaterial/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Bootstrap core CSS -->
    <link href="/templates/servermaterial/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!--external css-->
    <link href="/templates/servermaterial/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />

    <link rel="stylesheet" href="/templates/servermaterial/lib/advanced-datatable/css/DT_bootstrap.css" />
    <link href="/templates/servermaterial/lib/advanced-datatable/css/jquery.dataTables.css" rel="stylesheet" />
    <!-- Custom styles for this template -->
    <link href="/templates/servermaterial/css/style.css" rel="stylesheet">
    <link href="/templates/servermaterial/css/style-responsive.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- =======================================================
        Template Name: Dashio
        Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
        Author: TemplateMag.com
        License: https://templatemag.com/license/
    ======================================================= -->


  </head>
  <body>
    <!-- **********************************************************************************************************************************************************
      TOP BAR CONTENT & NOTIFICATIONS
      *********************************************************************************************************************************************************** -->
    <!--header start-->
    {% include 'servermaterial/header.html' %}
    <!--header end-->

    <!--sidebar start-->
    {% include 'servermaterial/sidebar.html' %}
    <!--sidebar end-->

    <!-- **********************************************************************************************************************************************************
    MAIN CONTENT
    *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
      <section class="wrapper site-min-height">

        <div class="col-lg-12 detailed">
          <div class="row content-panel">
            <h4>成长记录</h4>
            <div class="panel-heading">
              <ul class="nav nav-tabs nav-justified">
                <li  class="active">
                  <a data-toggle="tab" href="#basi">画像</a>
                </li>
                <li>
                  <a data-toggle="tab" href="#grade">成绩</a>
                </li>
                <li>
                  <a data-toggle="tab" href="#moral">德育</a>
                </li>
                <li>
                  <a data-toggle="tab" href="#health">体质</a>
                </li>
                <li>
                  <a data-toggle="tab" href="#aid">奖助勤工信息</a>
                </li>
<!--                <li>-->
<!--                  <a data-toggle="tab" href="#hos">校医院相关记录</a>-->
<!--                </li>-->
                <li>
                  <a data-toggle="tab" href="#oth">其他信息</a>
                </li>
              </ul>
            </div>
            <!-- /panel-heading -->
            <div class="panel-body">
              <div class="tab-content">
                <!-- /画像 -->
                <div id="basi" class="tab-pane active">


                  <div class="row mt">

                  <!--<div class="col-lg-5 col-lg-offset-3 detailed">-->
                     <!--<img   src="/templates/servermaterial/assets/img/stu.jpg" class="img-circle" width="130">-->
                  <!--</div>-->

                    <div class="col-lg-5 col-lg-offset-3 detailed">
                      <div id="chart-4" style="width: 800px;height:800px;"></div>
                    </div>
                  </div>

                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable4">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>学院</th>
                              <th>专业</th>
                              <th>班级</th>
                              <th>入学时间</th>
                              <th>出生日期</th>
                              <th>国籍</th>
                              <th>民族</th>
                              <th>生源地</th>
                              <th>性别</th>
                              <th>类型</th>
                              <th>学制</th>
                              <th>家庭贫困等级</th>
                          </tr>
                      </thead>
                      <tbody>

                      </tbody>
                  </table>

                </div>

                <!-- /成绩 -->
                <div id="grade" class="tab-pane">

                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>学院</th>
                              <th>学期</th>
                              <th>课程数</th>
                              <th>学分</th>
                              <th>平均成绩</th>
                              <th>不低于90的课程数</th>
                              <th>不低于80的课程数</th>
                              <th>不低于70的课程数</th>
                              <th>不低于60的课程数</th>
                              <th>低于60的课程数</th>
                              <th>年级</th>
                          </tr>
                      </thead>
                      <tbody>

                      </tbody>
                  </table>

                  <div class="row mt">
                    <div class="col-lg-5 col-lg-offset-3 detailed">
                      <div id="chart-1" style="width: 450px;height:400px;"></div>
                    </div>
                  </div>

                </div>

                <!-- /德育 -->
                <div id="moral" class="tab-pane">
                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable2">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>德育相关活动名称</th>
                              <th>学年</th>
                              <th>奖项</th>
                              <th>奖项类型</th>
                              <th>学院</th>
                              <th>年级</th>
                          </tr>
                      </thead>
                      <tbody>

                      </tbody>
                  </table>

                  <div class="row mt">
                    <div class="col-lg-5 col-lg-offset-3 detailed">
                      <div id="chart-2" style="width: 450px;height:400px;"></div>
                    </div>
                  </div>

                </div>

                <!-- /体质 -->
                <div id="health" class="tab-pane">
                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable3">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>身高</th>
                              <th>体重</th>
                              <th>高重比分数</th>
                              <th>肺活量</th>
                              <th>肺活量分数</th>
                              <th>50米</th>
                              <th>50米分数</th>
                              <th>坐位体前屈</th>
                              <th>坐位体前屈分数</th>
                              <th>跳远</th>
                              <th>跳远分数</th>
                              <th>俯卧撑/仰卧起坐</th>
                              <th>俯卧撑/仰卧起坐分数</th>
                              <th>800/1000米</th>
                              <th>800/1000米分数</th>
                              <th>体质总评分数</th>
                              <th>学院</th>
                              <th>年级</th>
                              <th>年份</th>
                          </tr>
                      </thead>
                      <tbody>

                      </tbody>
                  </table>

                  <div class="row mt">
                    <div class="col-lg-5 col-lg-offset-3 detailed">
                      <div id="chart-3" style="width: 450px;height:400px;"></div>
                    </div>
                  </div>

                </div>

                <!-- /奖助勤工 -->
                <div id="aid" class="tab-pane">
                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable9">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>勤工助学等级</th>
                              <th>助学贷款</th>
                              <th>助学金等级</th>
                              <th>奖学金等级</th>
                              <th>学年</th>
                          </tr>
                      </thead>
                      <tbody>

                      </tbody>
                  </table>

                  <!--<div class="row mt">-->
                    <!--<div class="col-lg-5 col-lg-offset-3 detailed">-->
                      <!--<div id="chart-8" style="width: 450px;height:400px;"></div>-->
                    <!--</div>-->
                  <!--</div>-->

                </div>

                <!-- /校医院 -->
                <div id="hos" class="tab-pane">
                     <div>
                        <div class="form-group col-lg-4">
                          <!--<label class="col-lg-3 control-label">校医院相关记录</label>-->
                          <div class="col-lg-8">
                            <input type="text" id="year" class="form-control" placeholder="输入想要查询的年度">
                          </div>
                        </div>
                        <div class="form-group col-lg-1">
                          <button class="btn btn-theme" id="searchlog4hos" type="button">查询</button>
                        </div>
                    </div>

                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable6">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>校机构</th>
                              <th>收费类型</th>
                              <th>收费时间</th>
                              <th>科室</th>
                              <th>金额</th>
                          </tr>
                      </thead>
                      <tbody>
                      </tbody>
                  </table>

                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable7">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>校机构</th>
                              <th>转诊时间</th>
                              <th>转诊医院</th>
                              <th>转诊科室</th>
                              <th>校医院科室</th>
                          </tr>
                      </thead>
                      <tbody>
                      </tbody>
                  </table>

                  <table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable8">
                      <thead>
                          <tr>
                              <th>学号 </th>
                              <th>校机构</th>
                              <th>疾病诊断</th>
                              <th>报销金额</th>
                              <th>总金额</th>
                              <th>报销时间</th>
                          </tr>
                      </thead>
                      <tbody>
                      </tbody>
                  </table>

                </div>

                <!-- /其他 -->
                <div id="oth" class="tab-pane">
                    <!--<div>-->

                        <!--<div class="form-group col-lg-4">-->
                          <!--<label class="col-lg-3 control-label">年度</label>-->
                          <!--<div class="col-lg-8">-->
                            <!--<input type="text" id="year" class="form-control">-->
                          <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group col-lg-1">-->
                          <!--<button class="btn btn-theme" id="searchlog4lib" type="button">查询</button>-->
                        <!--</div>-->
                        <!--&lt;!&ndash;<div >&ndash;&gt;-->
                          <!--&lt;!&ndash;<button class="btn btn-theme" id="analyselog" type="button">分析</button>&ndash;&gt;-->
                        <!--&lt;!&ndash;</div>&ndash;&gt;-->
                    <!--</div>-->

                  <!--<table class="table table-striped table-bordered table-hover table-checkable order-column" id="logtable5">-->
                      <!--<thead>-->
                          <!--<tr>-->
                              <!--<th>学号 </th>-->
                              <!--<th>访问时间</th>-->
                          <!--</tr>-->
                      <!--</thead>-->
                      <!--<tbody>-->

                      <!--</tbody>-->
                  <!--</table>-->

                  <div class="row mt">
                    <div class="col-lg-5 col-lg-offset-1 detailed">
                      <div id="chart-5" style="width: 450px;height:400px;"></div>
                    </div>
                    <div class="col-lg-5 col-lg-offset-1 detailed">
                      <div id="chart-6" style="width: 450px;height:400px;"></div>
                    </div>
                  </div>
                  <div class="row mt">
                    <div class="col-lg-5 col-lg-offset-1 detailed">
                      <div id="chart-7" style="width: 450px;height:400px;"></div>
                    </div>

                  </div>




                </div>
              </div>
              <!-- /tab-content -->
            </div>
            <!-- /panel-body -->
          </div>
          <!-- /row content-panel -->
        </div>
        <!-- /col-lg-12 -->
      </section>
      <!-- /wrapper -->
    </section>
    <!-- /MAIN CONTENT -->
    <!--main content end-->

    <!--footer start-->
    {% include 'servermaterial/footer.html' %}
    <!--footer end-->

    <!-- js placed at the end of the document so the pages load faster -->

    <!--<script type="text/javascript" language="javascript" src="/templates/servermaterial/lib/advanced-datatable/js/jquery.js"></script>-->
    <!--<script src="/templates/servermaterial/lib/bootstrap/js/bootstrap.min.js"></script>-->


    <!--common script for all pages-->
    <script src="/templates/servermaterial/lib/common-scripts.js"></script>
    <!--script for this page-->

    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-fileupload/bootstrap-fileupload.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-daterangepicker/date.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-daterangepicker/moment.min.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>

    <!--script for this page-->
    <script src="/templates/servermaterial/lib/morris-conf.js"></script>
    <script src="/templates/servermaterial/lib/morris/morris.min.js"></script>
    <script src="/templates/servermaterial/lib/raphael/raphael.min.js"></script>
    <!--script for charts-->

    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
    <!--<script src="/templates/servermaterial/lib/echarts.js"></script>-->
    <!--<script src="/templates/servermaterial/lib/wordcloud.js"></script>-->
    <script src="/templates/servermaterial/lib/echarts.min.js"></script>
    <script src="/templates/servermaterial/js/echarts-wordcloud.min.js"></script>


    <script>
$("#searchlog").click(function(){
    stuid = $("#stuid").val();
    //datatable1
    var table1 = $('#logtable').DataTable().clear().draw();
    table1.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res1"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                School = ret[j]["School"];
                Semester = ret[j]["Semester"];
                CourseNum = ret[j]["CourseNum"];
                Credits = ret[j]["Credits"];
                AveScore = ret[j]["AveScore"];
                Up90 = ret[j]["Up90"];
                Up80 = ret[j]["Up80"];
                Up70 = ret[j]["Up70"];
                Up60 = ret[j]["Up60"];
                Low60 = ret[j]["Low60"];
                Grade = ret[j]["Grade"];

                table1.row.add([StuID,School,Semester,CourseNum,Credits,AveScore,Up90,Up80,Up70,Up60,Low60,Grade]).draw();
            }
        }
    });

    //datatable2
    var table2 = $('#logtable2').DataTable().clear().draw();
    table2.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res2"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                School = ret[j]["School"];
                ItemName = ret[j]["ItemName"];
                Semester = ret[j]["Semester"];
                Prize = ret[j]["Prize"];
                PrizeType = ret[j]["PrizeType"];
                School = ret[j]["School"];
                Grade = ret[j]["Grade"];

                table2.row.add([StuID,ItemName,Semester,Prize,PrizeType,School,Grade]).draw();
            }
        }
    });

    //datatable3
    var table3 = $('#logtable3').DataTable().clear().draw();
    table3.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res3"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                Height = ret[j]["Height"];
                Weight = ret[j]["Weight"];
                HWScore = ret[j]["HWScore"];
                LungVolume = ret[j]["LungVolume"];
                LungScore = ret[j]["LungScore"];
                Meter50 = ret[j]["Meter50"];
                Meter50Score = ret[j]["Meter50Score"];
                Crook = ret[j]["Crook"];
                CrookScore = ret[j]["CrookScore"];
                Jump = ret[j]["Jump"];
                JumpScore = ret[j]["JumpScore"];
                Strength = ret[j]["Strength"];
                StrengthScore = ret[j]["StrengthScore"];
                Meter8001000 = ret[j]["Meter8001000"];
                Meter8001000Score = ret[j]["Meter8001000Score"];
                TotalScore = ret[j]["TotalScore"];
                School = ret[j]["School"];
                Grade = ret[j]["Grade"];
                Semester = ret[j]["Semester"];

                table3.row.add([StuID,Height,Weight,HWScore,LungVolume,LungScore,Meter50,Meter50Score,Crook,CrookScore,Jump,JumpScore,Strength,StrengthScore,Meter8001000,Meter8001000Score,TotalScore,School,Grade,Semester]).draw();
            }
        }
    });

    //datatable4
    var table4 = $('#logtable4').DataTable().clear().draw();
    table4.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res4"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                School = ret[j]["School"];
                Major = ret[j]["Major"];
                BirthYear = ret[j]["BirthYear"];
                Country = ret[j]["Country"];
                National = ret[j]["National"];
                Entrance = ret[j]["Entrance"];
                Province = ret[j]["Province"];
                Gender = ret[j]["Gender"];
                State = ret[j]["State"];
                Type = ret[j]["Type"];
                Year = ret[j]["Year"];
                FinanceType = ret[j]["FinanceType"];
                classNo = ret[j]["classNo"];

                table4.row.add([StuID,School,Major,classNo,Entrance,BirthYear,Country,National,Province,Gender,Type,Year,FinanceType]).draw();
            }
        }
    });

    //datatable5
    <!--var table5 = $('#logtable5').DataTable().clear().draw();-->
    <!--table5.clear().draw();-->
    <!--$.ajax({-->
        <!--url:"/web/query/",-->
        <!--type:'POST',-->
        <!--data:{'stuid':stuid},-->
        <!--success: function(arg){-->
            <!--retu = eval(arg);-->
            <!--ret = retu["res5"]-->
            <!--for(j = 0,len = ret.length; j < len; j++) {-->
                <!--StuID = ret[j]["StuID"];-->
                <!--//alert(StuID);-->

                <!--DateTime = ret[j]["DateTime"];-->

                <!--table5.row.add([StuID,DateTime]).draw();-->
            <!--}-->
        <!--}-->
    <!--});-->

    //datatable9
    var table9 = $('#logtable9').DataTable().clear().draw();
    table9.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res9"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                PTJob = ret[j]["PTJob"];
                Loan = ret[j]["Loan"];
                Aid = ret[j]["Aid"];
                Scholorship = ret[j]["Scholorship"];
                Year = ret[j]["Year"];

                table9.row.add([StuID,PTJob,Loan,Aid,Scholorship,Year]).draw();
            }
        }
    });




});

$("#searchlog").click(function(){
    //echarts1
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart = echarts.init(document.getElementById('chart-1'));
            option = {
              title : {
                  text: '平均成绩超过同年级同学院学生比例',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      dataView : {show: true, readOnly: false},
                      magicType : {show: true, type: ['line', 'bar']},
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      data : retu['xx']
                  }
              ],
              yAxis : [
                  {
                      type : 'value'
                  }
              ],
              series : [
                  {
                      name:'比例',
                      type:'bar',
                      data:retu['dd'],

                  }
              ]
            };
            myChart.setOption(option);
     });

    //echarts2
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart2 = echarts.init(document.getElementById('chart-2'));
            option = {
              title : {
                  text: '各学年参与德育相关活动次数统计',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      dataView : {show: true, readOnly: false},
                      magicType : {show: true, type: ['line', 'bar']},
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      data : retu['xx2']
                  }
              ],
              yAxis : [
                  {
                      type : 'value'
                  }
              ],
              series : [
                  {
                      name:'次数',
                      type:'bar',
                      data:retu['dd2'],

                  }
              ]
            };
            myChart2.setOption(option);
     });

    //echarts3
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart3 = echarts.init(document.getElementById('chart-3'));
            option = {
              title : {
                  text: '体质总评分数超过同年级同学院学生比例',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      dataView : {show: true, readOnly: false},
                      magicType : {show: true, type: ['line', 'bar']},
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      data : retu['xx3']
                  }
              ],
              yAxis : [
                  {
                      type : 'value'
                  }
              ],
              series : [
                  {
                      name:'比例',
                      type:'bar',
                      data:retu['dd3'],

                  }
              ]
            };
            myChart3.setOption(option);
     });

    //echarts4
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart4 = echarts.init(document.getElementById('chart-4'));

          option = {
              title: {
                  text: '学生画像（根据最近学期的情况）',
              },
              tooltip: {
                  show: true
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              series: [{
                  type: 'wordCloud',
                  size: ['80%', '80%'],//size属性是文字丢失的原因，最好设置为100%
                  textRotation : [0, 0, 0, 0],
					textPadding: 3,//把间距调大点 textPadding
					autoSize: {
						enable: true,
						minSize: 14
					},
					textStyle: {
						normal: {
							fontFamily: 'sans-serif',
							fontWeight: 'bold',
							// Color can be a callback function or a color string
							color: function () {
								// Random color
								return 'rgb(' + [
									Math.round(Math.random() * 160),
									Math.round(Math.random() * 160),
									Math.round(Math.random() * 160)
								].join(',') + ')';
							}
						},
						emphasis: {
							shadowBlur: 10,
							shadowColor: '#333'
						}
					},

                  data:retu['cloud']
              }]


          };
          myChart4.setOption(option);

     });

    //echarts5
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart5 = echarts.init(document.getElementById('chart-5'));

            option = {
              title : {
                  text: '最近一学期访问图书馆次数一览',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis: {
                  name : '天数',
                  scale: true
              },
              yAxis: {
                  name : '次数',
                  scale: true
              },
              series: [{
                  type: 'scatter',
                  data:retu['dd5'],

                  }
              ]
            };
            myChart5.setOption(option);
     });

    //echarts6
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart6 = echarts.init(document.getElementById('chart-6'));

            option = {
              title : {
                  text: '最近一学期回寝室刷卡次数一览',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis: {
                  name : '天数',
                  scale: true
              },
              yAxis: {
                  name : '次数',
                  scale: true
              },
              series: [{
                  type: 'scatter',
                  data:retu['dd6'],

                  }
              ]
            };
            myChart6.setOption(option);
     });

    //echarts7
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart7 = echarts.init(document.getElementById('chart-7'));

            option = {
              title : {
                  text: '最近一学期刷卡消费金额一览',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis: {
                  name : '天数',
                  scale: true
              },
              yAxis: {
                  name : '次数',
                  scale: true
              },
              series: [{
                  type: 'scatter',
                  data:retu['dd7'],

                  }
              ]
            };
            myChart7.setOption(option);
     });

    <!--//echarts8-->
    <!--$.post("/web/query/",{'stuid':stuid}, function(retu){-->
    <!--var myChart8 = echarts.init(document.getElementById('chart-8'));-->
            <!--option = {-->
              <!--title : {-->
                  <!--text: '各学年获奖助学金次数统计',-->
              <!--},-->
              <!--tooltip : {-->
                  <!--trigger: 'axis'-->
              <!--},-->
              <!--toolbox: {-->
                  <!--show : true,-->
                  <!--feature : {-->
                      <!--dataView : {show: true, readOnly: false},-->
                      <!--magicType : {show: true, type: ['line', 'bar']},-->
                      <!--restore : {show: true},-->
                      <!--saveAsImage : {show: true}-->
                  <!--}-->
              <!--},-->
              <!--calculable : true,-->
              <!--xAxis : [-->
                  <!--{-->
                      <!--type : 'category',-->
                      <!--data : retu['xx8']-->
                  <!--}-->
              <!--],-->
              <!--yAxis : [-->
                  <!--{-->
                      <!--type : 'value'-->
                  <!--}-->
              <!--],-->
              <!--series : [-->
                  <!--{-->
                      <!--name:'次数',-->
                      <!--type:'bar',-->
                      <!--data:retu['dd8'],-->

                  <!--}-->
              <!--]-->
            <!--};-->
            <!--myChart8.setOption(option);-->
     <!--});-->





});



    </script>

    <script>
$("#searchlog4hos").click(function(){
    stuid = $("#stuid").val();
    year = $("#year").val();
    <!--alert(stuid);-->
    <!--alert(year);-->



    <!--//datatable5-->
    <!--var table5 = $('#logtable5').DataTable().clear().draw();-->
    <!--table5.clear().draw();-->
    <!--$.ajax({-->
        <!--url:"/web/queryY/",-->
        <!--type:'POST',-->
        <!--data:{'stuid':stuid, 'year':year},-->
        <!--success: function(arg){//可以注释掉 进行调试-->
            <!--retu = eval(arg);-->
            <!--ret = retu["res5"]-->
            <!--for(j = 0,len = ret.length; j < len; j++) {-->
                <!--StuID = ret[j]["StuID"];-->
                <!--//alert(StuID);-->

                <!--DateTime = ret[j]["DateTime"];-->

                <!--table5.row.add([StuID,DateTime]).draw();-->
            <!--}-->
        <!--}-->
    <!--});-->


    //datatable6
    var table6 = $('#logtable6').DataTable().clear().draw();
    table6.clear().draw();
    $.ajax({
        url:"/web/queryY/",
        type:'POST',
        data:{'stuid':stuid, 'year':year},
        success: function(arg){//可以注释掉 进行调试
            retu = eval(arg);
            ret = retu["res6"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                SchoolHos = ret[j]["SchoolHos"];
                CostType = ret[j]["CostType"];
                DateTime = ret[j]["DateTime"];
                Department = ret[j]["Department"];
                RegCost = ret[j]["RegCost"];

                table6.row.add([StuID,SchoolHos,CostType,DateTime,Department,RegCost]).draw();
            }
        }
    });

    //datatable7
    var table7 = $('#logtable7').DataTable().clear().draw();
    table7.clear().draw();
    $.ajax({
        url:"/web/queryY/",
        type:'POST',
        data:{'stuid':stuid, 'year':year},
        success: function(arg){//可以注释掉 进行调试
            retu = eval(arg);
            ret = retu["res7"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                SchoolHos = ret[j]["SchoolHos"];
                DateTime = ret[j]["DateTime"];
                Hospital = ret[j]["Hospital"];
                Department = ret[j]["Department"];
                SchDepart = ret[j]["SchDepart"];

                table7.row.add([StuID,SchoolHos,DateTime,Hospital,Department,SchDepart]).draw();
            }
        }
    });

    //datatable8
    var table8 = $('#logtable8').DataTable().clear().draw();
    table8.clear().draw();
    $.ajax({
        url:"/web/queryY/",
        type:'POST',
        data:{'stuid':stuid, 'year':year},
        success: function(arg){//可以注释掉 进行调试
            retu = eval(arg);
            ret = retu["res8"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                SchoolHos = ret[j]["SchoolHos"];
                Cause = ret[j]["Cause"];
                BX = ret[j]["BX"];
                OriginCost = ret[j]["OriginCost"];
                DateTime = ret[j]["DateTime"];

                table8.row.add([StuID,SchoolHos,Cause,BX,OriginCost,DateTime]).draw();
            }
        }
    });


});






    </script>



    <script>
$("#searchlog1").click(function(){
    stuid = $("#stuid1").val();
    //datatable1
    var table1 = $('#logtable').DataTable().clear().draw();
    table1.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res1"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                School = ret[j]["School"];
                Semester = ret[j]["Semester"];
                CourseNum = ret[j]["CourseNum"];
                Credits = ret[j]["Credits"];
                AveScore = ret[j]["AveScore"];
                Up90 = ret[j]["Up90"];
                Up80 = ret[j]["Up80"];
                Up70 = ret[j]["Up70"];
                Up60 = ret[j]["Up60"];
                Low60 = ret[j]["Low60"];
                Grade = ret[j]["Grade"];

                table1.row.add([StuID,School,Semester,CourseNum,Credits,AveScore,Up90,Up80,Up70,Up60,Low60,Grade]).draw();
            }
        }
    });

    //datatable2
    var table2 = $('#logtable2').DataTable().clear().draw();
    table2.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res2"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                School = ret[j]["School"];
                ItemName = ret[j]["ItemName"];
                Semester = ret[j]["Semester"];
                Prize = ret[j]["Prize"];
                PrizeType = ret[j]["PrizeType"];
                School = ret[j]["School"];
                Grade = ret[j]["Grade"];

                table2.row.add([StuID,ItemName,Semester,Prize,PrizeType,School,Grade]).draw();
            }
        }
    });

    //datatable3
    var table3 = $('#logtable3').DataTable().clear().draw();
    table3.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res3"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                Height = ret[j]["Height"];
                Weight = ret[j]["Weight"];
                HWScore = ret[j]["HWScore"];
                LungVolume = ret[j]["LungVolume"];
                LungScore = ret[j]["LungScore"];
                Meter50 = ret[j]["Meter50"];
                Meter50Score = ret[j]["Meter50Score"];
                Crook = ret[j]["Crook"];
                CrookScore = ret[j]["CrookScore"];
                Jump = ret[j]["Jump"];
                JumpScore = ret[j]["JumpScore"];
                Strength = ret[j]["Strength"];
                StrengthScore = ret[j]["StrengthScore"];
                Meter8001000 = ret[j]["Meter8001000"];
                Meter8001000Score = ret[j]["Meter8001000Score"];
                TotalScore = ret[j]["TotalScore"];
                School = ret[j]["School"];
                Grade = ret[j]["Grade"];
                Semester = ret[j]["Semester"];

                table3.row.add([StuID,Height,Weight,HWScore,LungVolume,LungScore,Meter50,Meter50Score,Crook,CrookScore,Jump,JumpScore,Strength,StrengthScore,Meter8001000,Meter8001000Score,TotalScore,School,Grade,Semester]).draw();
            }
        }
    });

    //datatable4
    var table4 = $('#logtable4').DataTable().clear().draw();
    table4.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res4"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                School = ret[j]["School"];
                Major = ret[j]["Major"];
                BirthYear = ret[j]["BirthYear"];
                Country = ret[j]["Country"];
                National = ret[j]["National"];
                Entrance = ret[j]["Entrance"];
                Province = ret[j]["Province"];
                Gender = ret[j]["Gender"];
                State = ret[j]["State"];
                Type = ret[j]["Type"];
                Year = ret[j]["Year"];
                FinanceType = ret[j]["FinanceType"];
                classNo = ret[j]["classNo"];

                table4.row.add([StuID,School,Major,classNo,Entrance,BirthYear,Country,National,Province,Gender,Type,Year,FinanceType]).draw();
            }
        }
    });

    //datatable5
    <!--var table5 = $('#logtable5').DataTable().clear().draw();-->
    <!--table5.clear().draw();-->
    <!--$.ajax({-->
        <!--url:"/web/query/",-->
        <!--type:'POST',-->
        <!--data:{'stuid':stuid},-->
        <!--success: function(arg){-->
            <!--retu = eval(arg);-->
            <!--ret = retu["res5"]-->
            <!--for(j = 0,len = ret.length; j < len; j++) {-->
                <!--StuID = ret[j]["StuID"];-->
                <!--//alert(StuID);-->

                <!--DateTime = ret[j]["DateTime"];-->

                <!--table5.row.add([StuID,DateTime]).draw();-->
            <!--}-->
        <!--}-->
    <!--});-->

    //datatable9
    var table9 = $('#logtable9').DataTable().clear().draw();
    table9.clear().draw();
    $.ajax({
        url:"/web/query/",
        type:'POST',
        data:{'stuid':stuid},
        success: function(arg){
            retu = eval(arg);
            ret = retu["res9"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                PTJob = ret[j]["PTJob"];
                Loan = ret[j]["Loan"];
                Aid = ret[j]["Aid"];
                Scholorship = ret[j]["Scholorship"];
                Year = ret[j]["Year"];

                table9.row.add([StuID,PTJob,Loan,Aid,Scholorship,Year]).draw();
            }
        }
    });




});

$("#searchlog1").click(function(){
    //echarts1
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart = echarts.init(document.getElementById('chart-1'));
            option = {
              title : {
                  text: '平均成绩超过同年级同学院学生比例',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      dataView : {show: true, readOnly: false},
                      magicType : {show: true, type: ['line', 'bar']},
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      data : retu['xx']
                  }
              ],
              yAxis : [
                  {
                      type : 'value'
                  }
              ],
              series : [
                  {
                      name:'比例',
                      type:'bar',
                      data:retu['dd'],

                  }
              ]
            };
            myChart.setOption(option);
     });

    //echarts2
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart2 = echarts.init(document.getElementById('chart-2'));
            option = {
              title : {
                  text: '各学年参与德育相关活动次数统计',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      dataView : {show: true, readOnly: false},
                      magicType : {show: true, type: ['line', 'bar']},
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      data : retu['xx2']
                  }
              ],
              yAxis : [
                  {
                      type : 'value'
                  }
              ],
              series : [
                  {
                      name:'次数',
                      type:'bar',
                      data:retu['dd2'],

                  }
              ]
            };
            myChart2.setOption(option);
     });

    //echarts3
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart3 = echarts.init(document.getElementById('chart-3'));
            option = {
              title : {
                  text: '体质总评分数超过同年级同学院学生比例',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      dataView : {show: true, readOnly: false},
                      magicType : {show: true, type: ['line', 'bar']},
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      data : retu['xx3']
                  }
              ],
              yAxis : [
                  {
                      type : 'value'
                  }
              ],
              series : [
                  {
                      name:'比例',
                      type:'bar',
                      data:retu['dd3'],

                  }
              ]
            };
            myChart3.setOption(option);
     });

    //echarts4
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart4 = echarts.init(document.getElementById('chart-4'));

          option = {
              title: {
                  text: '学生画像（根据最近学期的情况）',
              },
              tooltip: {
                  show: true
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              series: [{
                  type: 'wordCloud',
                  size: ['80%', '80%'],//size属性是文字丢失的原因，最好设置为100%
                  textRotation : [0, 0, 0, 0],
					textPadding: 3,//把间距调大点 textPadding
					autoSize: {
						enable: true,
						minSize: 14
					},
					textStyle: {
						normal: {
							fontFamily: 'sans-serif',
							fontWeight: 'bold',
							// Color can be a callback function or a color string
							color: function () {
								// Random color
								return 'rgb(' + [
									Math.round(Math.random() * 160),
									Math.round(Math.random() * 160),
									Math.round(Math.random() * 160)
								].join(',') + ')';
							}
						},
						emphasis: {
							shadowBlur: 10,
							shadowColor: '#333'
						}
					},

                  data:retu['cloud']
              }]


          };
          myChart4.setOption(option);

     });

    //echarts5
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart5 = echarts.init(document.getElementById('chart-5'));

            option = {
              title : {
                  text: '最近一学期访问图书馆次数一览',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis: {
                  name : '天数',
                  scale: true
              },
              yAxis: {
                  name : '次数',
                  scale: true
              },
              series: [{
                  type: 'scatter',
                  data:retu['dd5'],

                  }
              ]
            };
            myChart5.setOption(option);
     });

    //echarts6
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart6 = echarts.init(document.getElementById('chart-6'));

            option = {
              title : {
                  text: '最近一学期回寝室刷卡次数一览',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis: {
                  name : '天数',
                  scale: true
              },
              yAxis: {
                  name : '次数',
                  scale: true
              },
              series: [{
                  type: 'scatter',
                  data:retu['dd6'],

                  }
              ]
            };
            myChart6.setOption(option);
     });

    //echarts7
    $.post("/web/query/",{'stuid':stuid}, function(retu){
    var myChart7 = echarts.init(document.getElementById('chart-7'));

            option = {
              title : {
                  text: '最近一学期刷卡消费金额一览',
              },
              tooltip : {
                  trigger: 'axis'
              },
              toolbox: {
                  show : true,
                  feature : {
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis: {
                  name : '天数',
                  scale: true
              },
              yAxis: {
                  name : '次数',
                  scale: true
              },
              series: [{
                  type: 'scatter',
                  data:retu['dd7'],

                  }
              ]
            };
            myChart7.setOption(option);
     });

    <!--//echarts8-->
    <!--$.post("/web/query/",{'stuid':stuid}, function(retu){-->
    <!--var myChart8 = echarts.init(document.getElementById('chart-8'));-->
            <!--option = {-->
              <!--title : {-->
                  <!--text: '各学年获奖助学金次数统计',-->
              <!--},-->
              <!--tooltip : {-->
                  <!--trigger: 'axis'-->
              <!--},-->
              <!--toolbox: {-->
                  <!--show : true,-->
                  <!--feature : {-->
                      <!--dataView : {show: true, readOnly: false},-->
                      <!--magicType : {show: true, type: ['line', 'bar']},-->
                      <!--restore : {show: true},-->
                      <!--saveAsImage : {show: true}-->
                  <!--}-->
              <!--},-->
              <!--calculable : true,-->
              <!--xAxis : [-->
                  <!--{-->
                      <!--type : 'category',-->
                      <!--data : retu['xx8']-->
                  <!--}-->
              <!--],-->
              <!--yAxis : [-->
                  <!--{-->
                      <!--type : 'value'-->
                  <!--}-->
              <!--],-->
              <!--series : [-->
                  <!--{-->
                      <!--name:'次数',-->
                      <!--type:'bar',-->
                      <!--data:retu['dd8'],-->

                  <!--}-->
              <!--]-->
            <!--};-->
            <!--myChart8.setOption(option);-->
     <!--});-->





});



    </script>

    <script>
$("#searchlog4hos").click(function(){
    stuid = $("#stuid1").val();
    year = $("#year").val();
    <!--alert(stuid);-->
    <!--alert(year);-->



    <!--//datatable5-->
    <!--var table5 = $('#logtable5').DataTable().clear().draw();-->
    <!--table5.clear().draw();-->
    <!--$.ajax({-->
        <!--url:"/web/queryY/",-->
        <!--type:'POST',-->
        <!--data:{'stuid':stuid, 'year':year},-->
        <!--success: function(arg){//可以注释掉 进行调试-->
            <!--retu = eval(arg);-->
            <!--ret = retu["res5"]-->
            <!--for(j = 0,len = ret.length; j < len; j++) {-->
                <!--StuID = ret[j]["StuID"];-->
                <!--//alert(StuID);-->

                <!--DateTime = ret[j]["DateTime"];-->

                <!--table5.row.add([StuID,DateTime]).draw();-->
            <!--}-->
        <!--}-->
    <!--});-->


    //datatable6
    var table6 = $('#logtable6').DataTable().clear().draw();
    table6.clear().draw();
    $.ajax({
        url:"/web/queryY/",
        type:'POST',
        data:{'stuid':stuid, 'year':year},
        success: function(arg){//可以注释掉 进行调试
            retu = eval(arg);
            ret = retu["res6"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                SchoolHos = ret[j]["SchoolHos"];
                CostType = ret[j]["CostType"];
                DateTime = ret[j]["DateTime"];
                Department = ret[j]["Department"];
                RegCost = ret[j]["RegCost"];

                table6.row.add([StuID,SchoolHos,CostType,DateTime,Department,RegCost]).draw();
            }
        }
    });

    //datatable7
    var table7 = $('#logtable7').DataTable().clear().draw();
    table7.clear().draw();
    $.ajax({
        url:"/web/queryY/",
        type:'POST',
        data:{'stuid':stuid, 'year':year},
        success: function(arg){//可以注释掉 进行调试
            retu = eval(arg);
            ret = retu["res7"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                SchoolHos = ret[j]["SchoolHos"];
                DateTime = ret[j]["DateTime"];
                Hospital = ret[j]["Hospital"];
                Department = ret[j]["Department"];
                SchDepart = ret[j]["SchDepart"];

                table7.row.add([StuID,SchoolHos,DateTime,Hospital,Department,SchDepart]).draw();
            }
        }
    });

    //datatable8
    var table8 = $('#logtable8').DataTable().clear().draw();
    table8.clear().draw();
    $.ajax({
        url:"/web/queryY/",
        type:'POST',
        data:{'stuid':stuid, 'year':year},
        success: function(arg){//可以注释掉 进行调试
            retu = eval(arg);
            ret = retu["res8"]
            for(j = 0,len = ret.length; j < len; j++) {
                StuID = ret[j]["StuID"];
                //alert(StuID);

                SchoolHos = ret[j]["SchoolHos"];
                Cause = ret[j]["Cause"];
                BX = ret[j]["BX"];
                OriginCost = ret[j]["OriginCost"];
                DateTime = ret[j]["DateTime"];

                table8.row.add([StuID,SchoolHos,Cause,BX,OriginCost,DateTime]).draw();
            }
        }
    });


});






    </script>




  </body>
</html>
